<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Product List</title>
    {% load static %}  
    <link href="{% static 'bootstrap/css/bootstrap.min.css' %}" rel="stylesheet" >  
    <link href="{% static 'css/formstyle.css' %}" rel="stylesheet" >  
    <script src="{% static 'bootstrap/js/bootstrap.min.js' %}" type="js"></script>  
</head>
    <body>
        <div id="vue-app-fetchproduct" class="container-fluid">
        <div>
            <button  class="btn btn-info button"  v-on:click="addproduct">
                <img src="{% static 'assets/plus-square.svg' %}"  >                
                Add New Product</button>
        </div>    
        <h1 class="heading ">Products</h2>

        <div class="search">
            <input class="form-control" id="myInput" type="text" placeholder="Search..">    
        </div>

        <table id="myTable" class="table table-striped table-bordered table-responsive">  
            <thead class="thead-dark">  
            <tr>  
                <th>ID</th>  
                <th>Name</th>
                <th>Code</th>     
                <th>Unit</th> 
                <th>Price(Rs)</th>
                <th>Tax</th>     
                <th>Percent(%)</th>   
                <th>Edit</th>
                <th>Delete</th>  
            </tr>  
            </thead>  
            <tbody>  
                <tr v-for="product in products" >  
                    <td>[[ product.id ]]</td>  
                    <td>[[ product.name ]]</td>  
                    <td>[[ product.code ]]</td>  
                    <td>[[ product.unit ]]</td>  
                    <td>[[ product.price ]]</td>  
                    <td>[[ product.tax ]]</td>   
                    <td>[[ product.percent ]]</td>   
                    <td>
                        <button class="btn btn-outline-secondary" v-on:click="editproduct([[product.id]])">
                            <img src="{% static 'assets/pencil-square.svg' %}" style="color: white;">
                            Edit</button>
                    </td>
                    <td>
                        <button class="btn btn-outline-danger " v-on:click="deleteproduct([[product.id]])">
                            <img src="{% static 'assets/trash3.svg' %}" class="text-white" >
                            Delete</button>  
                    </td>  
                </tr>   
            </tbody>  
        </table>  
        
        <!-- The Modal -->
        <div class="modal hidden" >
          <div class="modal-dialog modal-xl">
            <div class="modal-content">
        
              <!-- Modal Header -->
              <div class="modal-header ">
                <h4 class="modal-title ">[[modaltitle]]</h4>
                <button type="button" class="btn-close" data-bs-dismiss="modal" v-on:click="hidemodal"></button>
              </div>
        
              <!-- Modal body -->
              <div class="modal-body">
                        <form method="post" class="post-form">
                            {% csrf_token %}   
                                <div class="mb-3 mt-3 hidden">
                                <label for="id" class="form-label">Id:</label>
                                <input type="text" class="form-control" id="id" name="id"
                                v-model:"id" >
                                </div>
                                <div class="row">    
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="name" class="form-label">Name:</label>
                                    <input type="text" class="form-control" id="name" placeholder="Enter Name" 
                                    v-model="name" >
                                    </div>
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="code" class="form-label">Code:</label>
                                    <input type="text" class="form-control" id="code" placeholder="Enter Code"
                                    name="code" v-model="code">
                                    </div>
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="unit" class="form-label">Unit:</label>
                                    <input type="text" class="form-control" id="unit" placeholder="Enter Unit"
                                    name="unit" v-model="unit">
                                    </div>
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="price" class="form-label">Price(Rs):</label>
                                    <input type="text" class="form-control" id="price" placeholder="Enter Price"
                                    name="price" v-model="price">
                                    </div>
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="tax" class="form-label">Tax:</label>
                                    <input type="text" class="form-control" id="tax" placeholder="Enter Tax"
                                    name="tax" v-model="tax">
                                    </div>
                                    <div class="mb-3 col-sm-6 col-md-6">
                                    <label for="percent" class="form-label">Percent(%):</label>
                                    <input type="text" class="form-control" id="percent" placeholder="Enter Percent"
                                    name="percent" v-model="percent">
                                    </div>
                                </div>
                        </form>                           
                </div>
        
              <!-- Modal footer -->
              <div class="modal-footer">
                   <button  class="btn btn-info save" v-on:click="saveproduct">
                    <img src="{% static 'assets/save.svg' %}"  >             
                    Save</button>
                   <button  class="btn btn-secondary update" v-on:click="updateproduct">
                    <img src="{% static 'assets/pencil.svg' %}"  >            
                    Update</button>
              </div>
        
            </div>
          </div>
        </div>   

        </div>

        <script src="{% static 'jquery/jquery.js' %}" ></script> 
        <script src="{% static 'axios/axios/dist/axios.min.js' %}" ></script> 
        <script src="{% static 'vuejs/vue.js' %}" ></script> 
        <script src="{% static 'js/product/fetchproduct.js' %}" ></script>   
        <script src="{% static 'js/filter/filter.js' %}" ></script>   
 
    </body>
</html>